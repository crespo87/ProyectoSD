<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="mystyle.css">
    <title>Incidentes - Service Desk</title>
    <script>
        // Función para agregar la clase 'active' al enlace correspondiente
        window.onload = function() {
            const currentPage = window.location.pathname.split('/').pop(); // Obtiene el nombre del archivo de la URL
            const links = document.querySelectorAll('.menu-nav a');

            links.forEach(link => {
                if (link.getAttribute('href') === currentPage) {
                    link.classList.add('active');
                } else {
                    link.classList.remove('active');
                }
            });
        };

        // Función para manejar el envío del formulario y mostrar el mensaje de éxito
        function enviarFormulario(event) {
            event.preventDefault(); // Evita que se recargue la página al enviar el formulario
    
            // Crear el modal de agradecimiento
            const modal = document.createElement('div');
            modal.style.position = 'fixed';
            modal.style.left = '0';
            modal.style.top = '0';
            modal.style.width = '100%';
            modal.style.height = '100%';
            modal.style.backgroundColor = 'rgba(0, 0, 0, 0.5)';
            modal.style.display = 'flex';
            modal.style.justifyContent = 'center';
            modal.style.alignItems = 'center';
            modal.style.textAlign = 'center';
            modal.setAttribute('id', 'popup-modal');
    
            // Crear el contenido del modal
            const modalContent = document.createElement('div');
            modalContent.style.backgroundColor = 'white';
            modalContent.style.padding = '20px';
            modalContent.style.borderRadius = '10px';
            modalContent.style.maxWidth = '500px';
            modalContent.style.width = '80%';
    
            const modalMessage = document.createElement('h2');
            modalMessage.textContent = '¡Su Incidente ha sido creado!';
            modalContent.appendChild(modalMessage);
    
            const modalParagraph = document.createElement('p');
            modalParagraph.textContent = 'Nos contactaremos contigo lo antes posible.';
            modalContent.appendChild(modalParagraph);
    
            // Botón para cerrar el modal
            const closeButton = document.createElement('button');
            closeButton.textContent = 'Cerrar';
            closeButton.style.padding = '10px 20px';
            closeButton.style.backgroundColor = '#4CAF50';
            closeButton.style.color = 'white';
            closeButton.style.border = 'none';
            closeButton.style.borderRadius = '5px';
            closeButton.style.cursor = 'pointer';
    
            // Función para cerrar el modal
            closeButton.addEventListener('click', function() {
                document.body.removeChild(modal);
            });
    
            modalContent.appendChild(closeButton);
            modal.appendChild(modalContent);
            document.body.appendChild(modal);
    
            // Limpiar el formulario después de enviarlo
            event.target.reset();
        }
    </script>
</head>
<body>
    <!-- Barra de navegación -->
    <nav class="menu-nav">
        <a href="index.html">Inicio</a>
        <a href="incidentes.html" class="active">Incidentes</a>
        <a href="request.html">Solicitar</a>
        <a href="folders.html">Accesos a Folder</a>
        <a href="contact.html">Contacto</a>
    </nav>

    <!-- Sección de incidentes -->
    <div class="incident-section">
        <!-- Imagen de incidentes -->
        <img src="incidentes.jpg" alt="Imagen de incidentes" class="request-image">

        <h1>Reportar un Incidente</h1>
        <p>Si has encontrado un incidente o un problema, por favor completa el siguiente formulario con tu nombre de usuario y la descripción del problema.</p>

        <!-- Formulario de reporte de incidente -->
        <form class="incident-form" onsubmit="enviarFormulario(event)">
            <div class="form-group">
                <label for="username">Nombre de Usuario:</label>
                <input type="text" id="username" name="username" placeholder="Ingresa tu nombre de usuario" required>
            </div>
            <div class="form-group">
                <label for="description">Descripción del Problema:</label>
                <textarea id="description" name="description" rows="5" placeholder="Describe el problema aquí..." required></textarea>
            </div>
            <button type="submit" class="submit-btn">Enviar Incidente</button>
        </form>

        <!-- Tabla de prioridades de incidentes -->
        <h2>Tabla de Prioridades de Incidentes</h2>
        <table class="incident-table">
            <thead>
                <tr>
                    <th>Prioridad</th>
                    <th>Descripción</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Baja</td>
                    <td>Incidente menor, sin impacto en la operatividad.</td>
                </tr>
                <tr>
                    <td>Media</td>
                    <td>Problema que afecta parcialmente, pero con soluciones temporales.</td>
                </tr>
                <tr>
                    <td>Alta</td>
                    <td>Incidente crítico que afecta el funcionamiento principal del sistema o servicio.</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Pie de página -->
    <footer>
        <p>© 2025 Service Desk. Todos los derechos reservados.</p>
    </footer>
</body>
</html>
